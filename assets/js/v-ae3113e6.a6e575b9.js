"use strict";(self.webpackChunk=self.webpackChunk||[]).push([[2337],{5749:(n,s,e)=>{e.r(s),e.d(s,{data:()=>a});const a={key:"v-ae3113e6",path:"/serve/Linux/05-Apache/",title:"Apache（Web 网站服务）",lang:"zh-CN",frontmatter:{},excerpt:"",headers:[{level:2,title:"安装",slug:"安装",children:[]},{level:2,title:"启动",slug:"启动",children:[]},{level:2,title:"配置",slug:"配置",children:[]}],filePathRelative:"serve/Linux/05-Apache/README.md",git:{updatedTime:1630372804e3,contributors:[{name:"Yue_plus",email:"Yue_plus@foxmail.com",commits:1}]}}},3859:(n,s,e)=>{e.r(s),e.d(s,{default:()=>P});var a=e(6252),l=e(1660),t=e(7498),c=e(1539);const p=(0,a._)("h1",{id:"apache-web-网站服务",tabindex:"-1"},[(0,a._)("a",{class:"header-anchor",href:"#apache-web-网站服务","aria-hidden":"true"},"#"),(0,a.Uk)(" Apache（Web 网站服务）")],-1),i=(0,a._)("p",null,[(0,a.Uk)("Apache 包含在 CentOS 的 "),(0,a._)("code",null,"httpd"),(0,a.Uk)(" 服务中。")],-1),r=(0,a._)("h2",{id:"安装",tabindex:"-1"},[(0,a._)("a",{class:"header-anchor",href:"#安装","aria-hidden":"true"},"#"),(0,a.Uk)(" 安装")],-1),o=(0,a._)("p",null,"输入：",-1),u=(0,a._)("div",{class:"language-bash ext-sh line-numbers-mode"},[(0,a._)("pre",{class:"language-bash"},[(0,a._)("code",null,[(0,a._)("span",{class:"token function"},"sudo"),(0,a.Uk)(" yum update "),(0,a._)("span",{class:"token comment"},"# 更新软件源"),(0,a.Uk)("\n"),(0,a._)("span",{class:"token function"},"sudo"),(0,a.Uk)(" yum "),(0,a._)("span",{class:"token function"},"install"),(0,a.Uk)(" httpd "),(0,a._)("span",{class:"token comment"},"# 安装 Apache"),(0,a.Uk)("\n")])]),(0,a._)("div",{class:"line-numbers"},[(0,a._)("span",{class:"line-number"},"1"),(0,a._)("br"),(0,a._)("span",{class:"line-number"},"2"),(0,a._)("br")])],-1),_=(0,a._)("h2",{id:"启动",tabindex:"-1"},[(0,a._)("a",{class:"header-anchor",href:"#启动","aria-hidden":"true"},"#"),(0,a.Uk)(" 启动")],-1),d=(0,a._)("div",{class:"language-bash ext-sh line-numbers-mode"},[(0,a._)("pre",{class:"language-bash"},[(0,a._)("code",null,[(0,a._)("span",{class:"token function"},"sudo"),(0,a.Uk)(" systemctl start httpd.service "),(0,a._)("span",{class:"token comment"},"# 启动 Apache"),(0,a.Uk)("\n"),(0,a._)("span",{class:"token function"},"sudo"),(0,a.Uk)(" systemctl "),(0,a._)("span",{class:"token builtin class-name"},"enable"),(0,a.Uk)(" httpd.service "),(0,a._)("span",{class:"token comment"},"# 设置开机启动 Apache"),(0,a.Uk)("\n"),(0,a._)("span",{class:"token function"},"sudo"),(0,a.Uk)(" systemctl status httpd.service "),(0,a._)("span",{class:"token comment"},"# 查看 Apache 运行状态"),(0,a.Uk)("\n")])]),(0,a._)("div",{class:"line-numbers"},[(0,a._)("span",{class:"line-number"},"1"),(0,a._)("br"),(0,a._)("span",{class:"line-number"},"2"),(0,a._)("br"),(0,a._)("span",{class:"line-number"},"3"),(0,a._)("br")])],-1),b=(0,a._)("p",null,[(0,a.Uk)("启动后可以在虚拟机浏览器中访问 "),(0,a._)("code",null,"http://127.0.0.1/"),(0,a.Uk)(" 测试，成功页面：")],-1),k=(0,a._)("p",null,[(0,a._)("img",{src:l,alt:"测试Apache"})],-1),m=(0,a._)("h2",{id:"配置",tabindex:"-1"},[(0,a._)("a",{class:"header-anchor",href:"#配置","aria-hidden":"true"},"#"),(0,a.Uk)(" 配置")],-1),h=(0,a._)("p",null,[(0,a.Uk)("12.网站主目录为 "),(0,a._)("code",null,"/skillschina/market/"),(0,a.Uk)("，网页的内容是“迎访问网上交易系统”；（2分）")],-1),g=(0,a.uE)('<li><p>建立目录</p><div class="language-bash ext-sh line-numbers-mode"><pre class="language-bash"><code><span class="token function">sudo</span> <span class="token function">mkdir</span> -p /skillschina/market/\n</code></pre><div class="line-numbers"><span class="line-number">1</span><br></div></div><blockquote><p><code>mkdir</code> - 新建一个目录； <code>mkdir -p</code> - 自动建立父级目录；详细说明请在终端输入 <code>man mkdir</code> 查看</p></blockquote></li>',1),f=(0,a._)("p",null,[(0,a.Uk)("在 "),(0,a._)("code",null,"/skillschina/market/"),(0,a.Uk)(" 目录下建立 "),(0,a._)("code",null,"index.html"),(0,a.Uk)(" 文件，然后使用 "),(0,a._)("strong",null,"自己喜欢的"),(0,a.Uk)(" 文本编辑器编辑文件内容：")],-1),x=(0,a._)("div",{class:"language-html ext-html line-numbers-mode"},[(0,a._)("pre",{class:"language-html"},[(0,a._)("code",null,[(0,a._)("span",{class:"token tag"},[(0,a._)("span",{class:"token tag"},[(0,a._)("span",{class:"token punctuation"},"<"),(0,a.Uk)("h1")]),(0,a._)("span",{class:"token punctuation"},">")]),(0,a.Uk)("欢迎访问网上交易系统"),(0,a._)("span",{class:"token tag"},[(0,a._)("span",{class:"token tag"},[(0,a._)("span",{class:"token punctuation"},"</"),(0,a.Uk)("h1")]),(0,a._)("span",{class:"token punctuation"},">")]),(0,a.Uk)("\n")])]),(0,a._)("div",{class:"line-numbers"},[(0,a._)("span",{class:"line-number"},"1"),(0,a._)("br")])],-1),v=(0,a._)("blockquote",null,[(0,a._)("p",null,[(0,a._)("img",{src:t,alt:"nano 编辑器"})])],-1),U=(0,a.Uk)("另外，推荐学习 "),y={href:"https://www.runoob.com/linux/linux-vim.html",target:"_blank",rel:"noopener noreferrer"},w=(0,a.Uk)("vi/vim 文本编辑器使用教程"),S=(0,a.uE)('<p>修改默认配置文件</p><ul><li><p>备份默认配置文件：</p><div class="language-bash ext-sh line-numbers-mode"><pre class="language-bash"><code><span class="token builtin class-name">cd</span> /etc/httpd/conf/ <span class="token comment"># 改变工作目录</span>\n<span class="token function">sudo</span> <span class="token function">cp</span> httpd.conf httpd.conf.bak <span class="token comment"># 备份原始配置文件</span>\n</code></pre><div class="line-numbers"><span class="line-number">1</span><br><span class="line-number">2</span><br></div></div></li><li><p>修改配置文件 <code>httpd.conf</code>，第 119 行和第 131 行：</p><div class="language-diff ext-diff line-numbers-mode"><pre class="language-diff"><code><span class="token unchanged"><span class="token prefix unchanged"> </span><span class="token line">113 \n</span><span class="token prefix unchanged"> </span><span class="token line">114 #\n</span><span class="token prefix unchanged"> </span><span class="token line">115 # DocumentRoot: The directory out of which you will serve your\n</span><span class="token prefix unchanged"> </span><span class="token line">116 # documents. By default, all requests are taken from this directory, but\n</span><span class="token prefix unchanged"> </span><span class="token line">117 # symbolic links and aliases may be used to point to other locations.\n</span><span class="token prefix unchanged"> </span><span class="token line">118 #\n</span></span><span class="token deleted-sign deleted"><span class="token prefix deleted">-</span><span class="token line">119 DocumentRoot &quot;/var/www/html&quot;\n</span></span><span class="token inserted-sign inserted"><span class="token prefix inserted">+</span><span class="token line">119 DocumentRoot &quot;/skillschina/market&quot;\n</span></span><span class="token unchanged"><span class="token prefix unchanged"> </span><span class="token line">120 \n</span><span class="token prefix unchanged"> </span><span class="token line">121 #\n</span><span class="token prefix unchanged"> </span><span class="token line">122 # Relax access to content within /var/www.\n</span><span class="token prefix unchanged"> </span><span class="token line">123 #\n</span><span class="token prefix unchanged"> </span><span class="token line">124 &lt;Directory &quot;/var/www&quot;&gt;\n</span><span class="token prefix unchanged"> </span><span class="token line">125     AllowOverride None\n</span><span class="token prefix unchanged"> </span><span class="token line">126     # Allow open access:\n</span><span class="token prefix unchanged"> </span><span class="token line">127     Require all granted\n</span><span class="token prefix unchanged"> </span><span class="token line">128 &lt;/Directory&gt;\n</span><span class="token prefix unchanged"> </span><span class="token line">129 \n</span><span class="token prefix unchanged"> </span><span class="token line">130 # Further relax access to the default document root:\n</span></span><span class="token deleted-sign deleted"><span class="token prefix deleted">-</span><span class="token line">131 &lt;Directory &quot;/var/www/html&quot;&gt;\n</span></span><span class="token inserted-sign inserted"><span class="token prefix inserted">+</span><span class="token line">131 &lt;Directory &quot;/skillschina/market&quot;&gt;\n</span></span><span class="token unchanged"><span class="token prefix unchanged"> </span><span class="token line">132     #\n</span><span class="token prefix unchanged"> </span><span class="token line">133     # Possible values for the Options directive are &quot;None&quot;, &quot;All&quot;,\n</span><span class="token prefix unchanged"> </span><span class="token line">134     # or any combination of:\n</span><span class="token prefix unchanged"> </span><span class="token line">135     #   Indexes Includes FollowSymLinks SymLinksifOwnerMatch ExecCGI MultiViews\n</span><span class="token prefix unchanged"> </span><span class="token line">136     #\n</span></span></code></pre><div class="line-numbers"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br></div></div></li><li></li></ul>',2),A=(0,a.uE)('<p>推荐方法：</p><div class="language-bash ext-sh line-numbers-mode"><pre class="language-bash"><code>semanage fcontext -a -t httpd_sys_content_t <span class="token string">&#39;/skillschina/market/index.html&#39;</span>\nrestorecon -v <span class="token string">&#39;/skillschina/market/index.html&#39;</span>\n</code></pre><div class="line-numbers"><span class="line-number">1</span><br><span class="line-number">2</span><br></div></div>',2),q={href:"http://linux.vbird.org/linux_basic/0440processcontrol.php#selinux",target:"_blank",rel:"noopener noreferrer"},L=(0,a.Uk)("鸟哥的 Linux 私房菜 - 16.5 SELinux 初探"),C=(0,a.uE)('<li><p>不推荐方法：</p><div class="language-bash ext-sh line-numbers-mode"><pre class="language-bash"><code>setenforce <span class="token number">0</span> <span class="token comment"># 关闭 SELinux（立即生效，重启失效）；0-关；1-开</span>\n</code></pre><div class="line-numbers"><span class="line-number">1</span><br></div></div><p>将 <code>/etc/selinux/config</code> 文件的第7行：<code>SELINUX=enforcing</code> 修改成：<code>SELINUX=disabled</code>（重启生效，重启有效）</p></li>',1),D=(0,a.uE)('<ul><li><p>测试</p><p>执行以下命令重启 Apache，然后使用浏览器访问 <code>http://127.0.0.1/</code> 测试是否修改成功。</p><div class="language-bash ext-sh line-numbers-mode"><pre class="language-bash"><code><span class="token function">sudo</span> systemctl restart httpd.service\n</code></pre><div class="line-numbers"><span class="line-number">1</span><br></div></div></li></ul>',1),N=(0,a._)("li",null,[(0,a._)("p",null,"创建 SSL 证书"),(0,a._)("div",{class:"language-bash ext-sh line-numbers-mode"},[(0,a._)("pre",{class:"language-bash"},[(0,a._)("code",null,[(0,a._)("span",{class:"token function"},"sudo"),(0,a.Uk)(" yum "),(0,a._)("span",{class:"token function"},"install"),(0,a.Uk)(" openssl\n"),(0,a._)("span",{class:"token builtin class-name"},"cd"),(0,a.Uk)(" /etc/pki/tls/certs/\n"),(0,a._)("span",{class:"token function"},"sudo"),(0,a.Uk)(" openssl genrsa -out server.key "),(0,a._)("span",{class:"token number"},"1024"),(0,a.Uk)(),(0,a._)("span",{class:"token comment"},"# 生成私钥"),(0,a.Uk)("\n"),(0,a._)("span",{class:"token function"},"sudo"),(0,a.Uk)(" openssl req -new -key server.key -out server.csr "),(0,a._)("span",{class:"token comment"},"# 用私钥生成证书请求文件"),(0,a.Uk)("\n")])]),(0,a._)("div",{class:"line-numbers"},[(0,a._)("span",{class:"line-number"},"1"),(0,a._)("br"),(0,a._)("span",{class:"line-number"},"2"),(0,a._)("br"),(0,a._)("span",{class:"line-number"},"3"),(0,a._)("br"),(0,a._)("span",{class:"line-number"},"4"),(0,a._)("br")])]),(0,a._)("p",null,"此时要求输入证书信息："),(0,a._)("div",{class:"language-markdown ext-md line-numbers-mode"},[(0,a._)("pre",{class:"language-markdown"},[(0,a._)("code",null,[(0,a.Uk)("[yueplus@localhost certs]$ sudo openssl req -new -key server.key -out server.csr\nYou are about to be asked to enter information that will be incorporated\ninto your certificate request.\nWhat you are about to enter is what is called a Distinguished Name or a DN.\nThere are quite a few fields but you can leave some blank\nFor some fields there will be a default value,\n"),(0,a._)("span",{class:"token title important"},[(0,a.Uk)("If you enter '.', the field will be left blank.\n"),(0,a._)("span",{class:"token punctuation"},"-----")]),(0,a.Uk)("\n\n"),(0,a._)("span",{class:"token title important"},[(0,a._)("span",{class:"token punctuation"},"#"),(0,a.Uk)(" 国家/地区")]),(0,a.Uk)("\nCountry Name (2 letter code) [XX]:CN\n\n"),(0,a._)("span",{class:"token title important"},[(0,a._)("span",{class:"token punctuation"},"#"),(0,a.Uk)(" 省/市/自治区")]),(0,a.Uk)("\nState or Province Name (full name) []:GD\n\n"),(0,a._)("span",{class:"token title important"},[(0,a._)("span",{class:"token punctuation"},"#"),(0,a.Uk)(" 城市/地点")]),(0,a.Uk)("\nLocality Name (eg, city) [Default City]:GZ\n\n"),(0,a._)("span",{class:"token title important"},[(0,a._)("span",{class:"token punctuation"},"#"),(0,a.Uk)(" 组织")]),(0,a.Uk)("\nOrganization Name (eg, company) [Default Company Ltd]:market\n\n"),(0,a._)("span",{class:"token title important"},[(0,a._)("span",{class:"token punctuation"},"#"),(0,a.Uk)(" 组织单位")]),(0,a.Uk)("\nOrganizational Unit Name (eg, section) []:DCN\n\n"),(0,a._)("span",{class:"token title important"},[(0,a._)("span",{class:"token punctuation"},"#"),(0,a.Uk)(" 通用名称")]),(0,a.Uk)("\nCommon Name (eg, your name or your server's hostname) []:market.skillschina.com\n\n"),(0,a._)("span",{class:"token title important"},[(0,a._)("span",{class:"token punctuation"},"#"),(0,a.Uk)(" 之后全部按回车跳过")]),(0,a.Uk)("\nEmail Address []:\n\nPlease enter the following 'extra' attributes\nto be sent with your certificate request\nA challenge password []:\nAn optional company name []:\n")])]),(0,a._)("div",{class:"line-numbers"},[(0,a._)("span",{class:"line-number"},"1"),(0,a._)("br"),(0,a._)("span",{class:"line-number"},"2"),(0,a._)("br"),(0,a._)("span",{class:"line-number"},"3"),(0,a._)("br"),(0,a._)("span",{class:"line-number"},"4"),(0,a._)("br"),(0,a._)("span",{class:"line-number"},"5"),(0,a._)("br"),(0,a._)("span",{class:"line-number"},"6"),(0,a._)("br"),(0,a._)("span",{class:"line-number"},"7"),(0,a._)("br"),(0,a._)("span",{class:"line-number"},"8"),(0,a._)("br"),(0,a._)("span",{class:"line-number"},"9"),(0,a._)("br"),(0,a._)("span",{class:"line-number"},"10"),(0,a._)("br"),(0,a._)("span",{class:"line-number"},"11"),(0,a._)("br"),(0,a._)("span",{class:"line-number"},"12"),(0,a._)("br"),(0,a._)("span",{class:"line-number"},"13"),(0,a._)("br"),(0,a._)("span",{class:"line-number"},"14"),(0,a._)("br"),(0,a._)("span",{class:"line-number"},"15"),(0,a._)("br"),(0,a._)("span",{class:"line-number"},"16"),(0,a._)("br"),(0,a._)("span",{class:"line-number"},"17"),(0,a._)("br"),(0,a._)("span",{class:"line-number"},"18"),(0,a._)("br"),(0,a._)("span",{class:"line-number"},"19"),(0,a._)("br"),(0,a._)("span",{class:"line-number"},"20"),(0,a._)("br"),(0,a._)("span",{class:"line-number"},"21"),(0,a._)("br"),(0,a._)("span",{class:"line-number"},"22"),(0,a._)("br"),(0,a._)("span",{class:"line-number"},"23"),(0,a._)("br"),(0,a._)("span",{class:"line-number"},"24"),(0,a._)("br"),(0,a._)("span",{class:"line-number"},"25"),(0,a._)("br"),(0,a._)("span",{class:"line-number"},"26"),(0,a._)("br"),(0,a._)("span",{class:"line-number"},"27"),(0,a._)("br"),(0,a._)("span",{class:"line-number"},"28"),(0,a._)("br"),(0,a._)("span",{class:"line-number"},"29"),(0,a._)("br"),(0,a._)("span",{class:"line-number"},"30"),(0,a._)("br"),(0,a._)("span",{class:"line-number"},"31"),(0,a._)("br"),(0,a._)("span",{class:"line-number"},"32"),(0,a._)("br"),(0,a._)("span",{class:"line-number"},"33"),(0,a._)("br"),(0,a._)("span",{class:"line-number"},"34"),(0,a._)("br")])]),(0,a._)("p",null,"用私钥、签名证书请求文件颁发证书，证书的申请机构和颁发机构都是自己："),(0,a._)("div",{class:"language-bash ext-sh line-numbers-mode"},[(0,a._)("pre",{class:"language-bash"},[(0,a._)("code",null,[(0,a._)("span",{class:"token function"},"sudo"),(0,a.Uk)(" openssl x509 -days "),(0,a._)("span",{class:"token number"},"365"),(0,a.Uk)(" -req -in server.csr -signkey server.key -out server.crt\n")])]),(0,a._)("div",{class:"line-numbers"},[(0,a._)("span",{class:"line-number"},"1"),(0,a._)("br")])])],-1),E=(0,a._)("li",null,[(0,a._)("p",null,"配置 SSL 链接"),(0,a._)("div",{class:"language-bash ext-sh line-numbers-mode"},[(0,a._)("pre",{class:"language-bash"},[(0,a._)("code",null,[(0,a._)("span",{class:"token function"},"sudo"),(0,a.Uk)(" yum "),(0,a._)("span",{class:"token function"},"install"),(0,a.Uk)(" mod_ssl.x86_64 "),(0,a._)("span",{class:"token comment"},"# 安装 SSL 模块"),(0,a.Uk)("\n"),(0,a._)("span",{class:"token function"},"sudo"),(0,a.Uk)(" systemctl restart httpd.service "),(0,a._)("span",{class:"token comment"},"# 重启 Apache"),(0,a.Uk)("\n"),(0,a._)("span",{class:"token builtin class-name"},"cd"),(0,a.Uk)(" /etc/httpd/conf.d/\n"),(0,a._)("span",{class:"token function"},"sudo"),(0,a.Uk)(),(0,a._)("span",{class:"token function"},"cp"),(0,a.Uk)(" ssl.conf ssl.conf.bak "),(0,a._)("span",{class:"token comment"},"# 备份默认 SSL 配置文件"),(0,a.Uk)("\n")])]),(0,a._)("div",{class:"line-numbers"},[(0,a._)("span",{class:"line-number"},"1"),(0,a._)("br"),(0,a._)("span",{class:"line-number"},"2"),(0,a._)("br"),(0,a._)("span",{class:"line-number"},"3"),(0,a._)("br"),(0,a._)("span",{class:"line-number"},"4"),(0,a._)("br")])]),(0,a._)("p",null,[(0,a.Uk)("修改 "),(0,a._)("code",null,"/etc/httpd/conf.d/ssl.conf")]),(0,a._)("div",{class:"language-diff ext-diff line-numbers-mode"},[(0,a._)("pre",{class:"language-diff"},[(0,a._)("code",null,[(0,a._)("span",{class:"token unchanged"},[(0,a._)("span",{class:"token prefix unchanged"}," "),(0,a._)("span",{class:"token line"}," 95 #   Server Certificate:\n"),(0,a._)("span",{class:"token prefix unchanged"}," "),(0,a._)("span",{class:"token line"}," 96 # Point SSLCertificateFile at a PEM encoded certificate.  If\n"),(0,a._)("span",{class:"token prefix unchanged"}," "),(0,a._)("span",{class:"token line"}," 97 # the certificate is encrypted, then you will be prompted for a\n"),(0,a._)("span",{class:"token prefix unchanged"}," "),(0,a._)("span",{class:"token line"}," 98 # pass phrase.  Note that a kill -HUP will prompt again.  A new\n"),(0,a._)("span",{class:"token prefix unchanged"}," "),(0,a._)("span",{class:"token line"}," 99 # certificate can be generated using the genkey(1) command.\n")]),(0,a._)("span",{class:"token deleted-sign deleted"},[(0,a._)("span",{class:"token prefix deleted"},"-"),(0,a._)("span",{class:"token line"},"100 SSLCertificateFile /etc/pki/tls/certs/localhost.crt\n")]),(0,a._)("span",{class:"token inserted-sign inserted"},[(0,a._)("span",{class:"token prefix inserted"},"+"),(0,a._)("span",{class:"token line"},"100 SSLCertificateFile /etc/pki/tls/certs/server.crt\n")]),(0,a._)("span",{class:"token unchanged"},[(0,a._)("span",{class:"token prefix unchanged"}," "),(0,a._)("span",{class:"token line"},"101 \n"),(0,a._)("span",{class:"token prefix unchanged"}," "),(0,a._)("span",{class:"token line"},"102 #   Server Private Key:\n"),(0,a._)("span",{class:"token prefix unchanged"}," "),(0,a._)("span",{class:"token line"},"103 #   If the key is not combined with the certificate, use this\n"),(0,a._)("span",{class:"token prefix unchanged"}," "),(0,a._)("span",{class:"token line"},"104 #   directive to point at the key file.  Keep in mind that if\n"),(0,a._)("span",{class:"token prefix unchanged"}," "),(0,a._)("span",{class:"token line"},"105 #   you've both a RSA and a DSA private key you can configure\n"),(0,a._)("span",{class:"token prefix unchanged"}," "),(0,a._)("span",{class:"token line"},"106 #   both in parallel (to also allow the use of DSA ciphers, etc.)\n")]),(0,a._)("span",{class:"token deleted-sign deleted"},[(0,a._)("span",{class:"token prefix deleted"},"-"),(0,a._)("span",{class:"token line"},"107 SSLCertificateKeyFile /etc/pki/tls/private/localhost.key\n")]),(0,a._)("span",{class:"token inserted-sign inserted"},[(0,a._)("span",{class:"token prefix inserted"},"+"),(0,a._)("span",{class:"token line"},"107 SSLCertificateKeyFile /etc/pki/tls/certs/server.key\n")])])]),(0,a._)("div",{class:"line-numbers"},[(0,a._)("span",{class:"line-number"},"1"),(0,a._)("br"),(0,a._)("span",{class:"line-number"},"2"),(0,a._)("br"),(0,a._)("span",{class:"line-number"},"3"),(0,a._)("br"),(0,a._)("span",{class:"line-number"},"4"),(0,a._)("br"),(0,a._)("span",{class:"line-number"},"5"),(0,a._)("br"),(0,a._)("span",{class:"line-number"},"6"),(0,a._)("br"),(0,a._)("span",{class:"line-number"},"7"),(0,a._)("br"),(0,a._)("span",{class:"line-number"},"8"),(0,a._)("br"),(0,a._)("span",{class:"line-number"},"9"),(0,a._)("br"),(0,a._)("span",{class:"line-number"},"10"),(0,a._)("br"),(0,a._)("span",{class:"line-number"},"11"),(0,a._)("br"),(0,a._)("span",{class:"line-number"},"12"),(0,a._)("br"),(0,a._)("span",{class:"line-number"},"13"),(0,a._)("br"),(0,a._)("span",{class:"line-number"},"14"),(0,a._)("br"),(0,a._)("span",{class:"line-number"},"15"),(0,a._)("br")])]),(0,a._)("p",null,"重启 Apache 使配置文件生效"),(0,a._)("div",{class:"language-bash ext-sh line-numbers-mode"},[(0,a._)("pre",{class:"language-bash"},[(0,a._)("code",null,[(0,a._)("span",{class:"token function"},"sudo"),(0,a.Uk)(" systemctl restart httpd.service\n")])]),(0,a._)("div",{class:"line-numbers"},[(0,a._)("span",{class:"line-number"},"1"),(0,a._)("br")])]),(0,a._)("p",null,[(0,a.Uk)("访问 "),(0,a._)("code",null,"https://127.0.0.1"),(0,a.Uk)(" 查看页面证书：")]),(0,a._)("p",null,[(0,a._)("img",{src:c,alt:"SSL"})])],-1),I=(0,a._)("li",null,[(0,a._)("p",null,"配置仅支持 https 协议链接"),(0,a._)("p",null,[(0,a.Uk)("注释 "),(0,a._)("code",null,"/etc/httpd/conf/httpd.conf"),(0,a.Uk)(" 文件，第 42 行：")]),(0,a._)("div",{class:"language-diff ext-diff line-numbers-mode"},[(0,a._)("pre",{class:"language-diff"},[(0,a._)("code",null,[(0,a._)("span",{class:"token unchanged"},[(0,a._)("span",{class:"token prefix unchanged"}," "),(0,a._)("span",{class:"token line"},"34 # Listen: Allows you to bind Apache to specific IP addresses and/or\n"),(0,a._)("span",{class:"token prefix unchanged"}," "),(0,a._)("span",{class:"token line"},"35 # ports, instead of the default. See also the <VirtualHost>\n"),(0,a._)("span",{class:"token prefix unchanged"}," "),(0,a._)("span",{class:"token line"},"36 # directive.\n"),(0,a._)("span",{class:"token prefix unchanged"}," "),(0,a._)("span",{class:"token line"},"37 #\n"),(0,a._)("span",{class:"token prefix unchanged"}," "),(0,a._)("span",{class:"token line"},"38 # Change this to Listen on specific IP addresses as shown below to \n"),(0,a._)("span",{class:"token prefix unchanged"}," "),(0,a._)("span",{class:"token line"},"39 # prevent Apache from glomming onto all bound IP addresses.\n"),(0,a._)("span",{class:"token prefix unchanged"}," "),(0,a._)("span",{class:"token line"},"40 #\n"),(0,a._)("span",{class:"token prefix unchanged"}," "),(0,a._)("span",{class:"token line"},"41 #Listen 12.34.56.78:80\n")]),(0,a._)("span",{class:"token deleted-sign deleted"},[(0,a._)("span",{class:"token prefix deleted"},"-"),(0,a._)("span",{class:"token line"},"42 Listen 80\n")]),(0,a._)("span",{class:"token inserted-sign inserted"},[(0,a._)("span",{class:"token prefix inserted"},"+"),(0,a._)("span",{class:"token line"},"42 # Listen 80\n")])])]),(0,a._)("div",{class:"line-numbers"},[(0,a._)("span",{class:"line-number"},"1"),(0,a._)("br"),(0,a._)("span",{class:"line-number"},"2"),(0,a._)("br"),(0,a._)("span",{class:"line-number"},"3"),(0,a._)("br"),(0,a._)("span",{class:"line-number"},"4"),(0,a._)("br"),(0,a._)("span",{class:"line-number"},"5"),(0,a._)("br"),(0,a._)("span",{class:"line-number"},"6"),(0,a._)("br"),(0,a._)("span",{class:"line-number"},"7"),(0,a._)("br"),(0,a._)("span",{class:"line-number"},"8"),(0,a._)("br"),(0,a._)("span",{class:"line-number"},"9"),(0,a._)("br"),(0,a._)("span",{class:"line-number"},"10"),(0,a._)("br")])]),(0,a._)("p",null,"重启 Apache 使配置文件生效"),(0,a._)("div",{class:"language-bash ext-sh line-numbers-mode"},[(0,a._)("pre",{class:"language-bash"},[(0,a._)("code",null,[(0,a._)("span",{class:"token function"},"sudo"),(0,a.Uk)(" systemctl restart httpd.service\n")])]),(0,a._)("div",{class:"line-numbers"},[(0,a._)("span",{class:"line-number"},"1"),(0,a._)("br")])]),(0,a._)("p",null,[(0,a.Uk)("现在 "),(0,a._)("code",null,"http://127.0.0.1"),(0,a.Uk)(" 将无法访问，只能访问 "),(0,a._)("code",null,"https://127.0.0.1")])],-1),P={render:function(n,s){const e=(0,a.up)("OutboundLink");return(0,a.wg)(),(0,a.iD)(a.HY,null,[p,i,r,o,u,_,d,b,k,m,(0,a._)("ol",null,[(0,a._)("li",null,[h,(0,a._)("ul",null,[g,(0,a._)("li",null,[f,x,v,(0,a._)("blockquote",null,[(0,a._)("p",null,[U,(0,a._)("a",y,[w,(0,a.Wm)(e)])])])])])]),(0,a._)("li",null,[S,(0,a._)("ul",null,[(0,a._)("li",null,[A,(0,a._)("blockquote",null,[(0,a._)("p",null,[(0,a._)("a",q,[L,(0,a.Wm)(e)])])])]),C]),D]),N,E,I])],64)}}},7498:(n,s,e)=>{n.exports=e.p+"assets/img/nano.89cb8808.jpg"},1539:(n,s,e)=>{n.exports=e.p+"assets/img/sslDone.28f595b9.jpg"},1660:(n,s,e)=>{n.exports=e.p+"assets/img/testApache.da2c0dc7.jpg"}}]);