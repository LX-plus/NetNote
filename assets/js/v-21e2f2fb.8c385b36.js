"use strict";(self.webpackChunk=self.webpackChunk||[]).push([[3321],{3012:(n,s,a)=>{a.r(s),a.d(s,{data:()=>e});const e={key:"v-21e2f2fb",path:"/net/router/",title:"路由器配置",lang:"zh-CN",frontmatter:{},excerpt:"",headers:[{level:2,title:"路由器Telnet登录：",slug:"路由器telnet登录",children:[]},{level:2,title:"路由器SSH登录:",slug:"路由器ssh登录",children:[]},{level:2,title:"路由器静态路由：",slug:"路由器静态路由",children:[]},{level:2,title:"路由器RIP动态路由:",slug:"路由器rip动态路由",children:[]},{level:2,title:"路由器OSPF动态路由：",slug:"路由器ospf动态路由",children:[]},{level:2,title:"路由器单臂路由:",slug:"路由器单臂路由",children:[]},{level:2,title:"路由器背靠背线缆:",slug:"路由器背靠背线缆",children:[]},{level:2,title:"路由器bai配置:",slug:"路由器bai配置",children:[]},{level:2,title:"神州数码路由器清空数据:",slug:"神州数码路由器清空数据",children:[]}],filePathRelative:"net/router/README.md",git:{updatedTime:1630372804e3,contributors:[{name:"Yue_plus",email:"Yue_plus@foxmail.com",commits:1}]}}},5598:(n,s,a)=>{a.r(s),a.d(s,{default:()=>p});const e=(0,a(6252).uE)('<h1 id="路由器配置" tabindex="-1"><a class="header-anchor" href="#路由器配置" aria-hidden="true">#</a> 路由器配置</h1><p>##路由器基本配置：</p><div class="language-bash ext-sh line-numbers-mode"><pre class="language-bash"><code>Router<span class="token operator">&gt;</span> <span class="token builtin class-name">enable</span>\nRouter<span class="token comment"># config</span>\nRouter_config<span class="token comment"># int f 0/0</span>\nRouter_config_f0/0<span class="token comment"># ip address 10.1.1.1 255.255.255.0  /*配置路由器端口地址*/</span>\n</code></pre><div class="line-numbers"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br></div></div><h2 id="路由器telnet登录" tabindex="-1"><a class="header-anchor" href="#路由器telnet登录" aria-hidden="true">#</a> 路由器Telnet登录：</h2><div class="language-bash ext-sh line-numbers-mode"><pre class="language-bash"><code>Router_config<span class="token comment"># ip telnet access-class [策略名] /*设定telnet使用ACL过滤*/</span>\nRouter_config<span class="token comment"># username admin password 0 admin /*创建用户名与密码*/</span>\nRouter_config<span class="token comment"># enable password 0 enable /*设定enable密码*/</span>\nRouter_config<span class="token comment"># aaa authen enable def enable /*设定enable密码验证方式*/</span>\nRouter_config<span class="token comment"># aaa authen login def local /*设定用户名本地认证*/</span>\n</code></pre><div class="line-numbers"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br></div></div><h2 id="路由器ssh登录" tabindex="-1"><a class="header-anchor" href="#路由器ssh登录" aria-hidden="true">#</a> 路由器SSH登录:</h2><div class="language-bash ext-sh line-numbers-mode"><pre class="language-bash"><code>Router_config<span class="token comment"># ip sshd enable  /*开启SSH登录*/</span>\nRouter_config<span class="token comment"># ip sshd access-class [策略名]  /*设定SSH使用ACL过滤*/</span>\nRouter_config<span class="token comment"># username admin password 0 admin  /*创建用户名与密码*/</span>\nRouter_config<span class="token comment"># enable password 0 enable  /*设定enable密码*/</span>\nRouter_config<span class="token comment"># aaa authen enable def enable  /*设定enable密码验证方式*/</span>\nRouter_config<span class="token comment"># aaa authen login def local  /*设定用户名本地认证*/</span>\n</code></pre><div class="line-numbers"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br></div></div><h2 id="路由器静态路由" tabindex="-1"><a class="header-anchor" href="#路由器静态路由" aria-hidden="true">#</a> 路由器静态路由：</h2><div class="language-bash ext-sh line-numbers-mode"><pre class="language-bash"><code>Router_config<span class="token comment"># ip route 10.1.2.0  (目标网段) 255.255.255.0（子网掩码） 10.1.1.2（转发地址）</span>\nRouter_config<span class="token comment"># ip route 0.0.0.0 (目标网段) 0.0.0.0（子网掩码） 10.1.1.2（转发地址）/*默认静态路由*/</span>\n</code></pre><div class="line-numbers"><span class="line-number">1</span><br><span class="line-number">2</span><br></div></div><h2 id="路由器rip动态路由" tabindex="-1"><a class="header-anchor" href="#路由器rip动态路由" aria-hidden="true">#</a> 路由器RIP动态路由:</h2><div class="language-bash ext-sh line-numbers-mode"><pre class="language-bash"><code>Router_config<span class="token comment"># router rip  /*创建并启用 RIP路由*/</span>\nRouter_config_rip<span class="token comment"># version 2  /*设置RIP路由版本号 2*/</span>\nRouter_config_rip<span class="token comment"># no auto-summary  /*关闭路由自动汇总功能*/</span>\nRouter_config_rip<span class="token comment"># network 10.1.1.0 255.255.255.0  /*宣告网段*/</span>\nRouter_config_rip<span class="token comment"># network 10.1.2.0 255.255.255.0</span>\nRouter_config_rip<span class="token comment"># redistribute connect  /*引入直连路由*/</span>\nRoutter_config_rip<span class="token comment"># default-information originate  /*下发默认路由*/</span>\n</code></pre><div class="line-numbers"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br></div></div><h2 id="路由器ospf动态路由" tabindex="-1"><a class="header-anchor" href="#路由器ospf动态路由" aria-hidden="true">#</a> 路由器OSPF动态路由：</h2><div class="language-bash ext-sh line-numbers-mode"><pre class="language-bash"><code>Router_config<span class="token comment"># router ospf 1  /*启动 ospf进程 进程号为 1*/</span>\nRouter_config_ospf_1<span class="token comment"># router-id 1.1.1.1   /*设置路由router-id*/</span>\nRouter_config_ospf_1<span class="token comment"># netword 10.1.1.0 255.255.255.0 ar 0  /*宣告网段*/</span>\nRouter_config_ospf_1<span class="token comment"># network 10.1.2.0 255.255.255.0 ar 0  /*区域号为 0 */</span>\nRouter_config_ospf<span class="token comment"># redistribute connect  /*引入直连路由*/</span>\nRouter_config_ospf<span class="token comment"># default-information originate  /*下发默认路由*/</span>\nRouter_config<span class="token comment"># int g 0/3   /*进入G0/3端口*/</span>\nRouter_config_ospf<span class="token comment"># area X[区域号] virtual-link X.X.X.X[对端路由ID]  /*设定虚链路*/</span>\nRouter_config_g0/3<span class="token comment"># ip ospf priority 0  /*设置不参与OSPF选举*/</span>\nRouter_config_g0/3<span class="token comment"># ip ospf passive  /*设置为被动接口,不发送更新报文*/</span>\n</code></pre><div class="line-numbers"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br></div></div><h2 id="路由器单臂路由" tabindex="-1"><a class="header-anchor" href="#路由器单臂路由" aria-hidden="true">#</a> 路由器单臂路由:</h2><div class="language-bash ext-sh line-numbers-mode"><pre class="language-bash"><code>Router_config<span class="token comment"># int g 0/3.1  /*进入G0/3的子端口1*/</span>\nRouter_config_g0/3.1<span class="token comment"># encapsulation dot1q 10  /*配置为802.1Q局域网*/</span>\nRouter_config_g0/3.1<span class="token comment"># ip address 192.168.10.1 255.255.255.0  /*绑定IP地址*/</span>\nRouter_config_g0/3.1<span class="token comment"># no shut   /*非关闭*/</span>\nRouter_config<span class="token comment"># int g 0/3.2   /*进入G0/3的子端口2*/</span>\nRouter_config_g0/3.2<span class="token comment"># encapsulation dot1q 20   /*配置为802.1Q局域网*/</span>\nRouter_config_g0/3.2<span class="token comment"># ip address 192.168.20.1 255.255.255.0   /*绑定IP地址*/</span>\nRouter_config_g0/3.2<span class="token comment"># no shut   /*非关闭*/</span>\n</code></pre><div class="line-numbers"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br></div></div><h2 id="路由器背靠背线缆" tabindex="-1"><a class="header-anchor" href="#路由器背靠背线缆" aria-hidden="true">#</a> 路由器背靠背线缆:</h2><div class="language-bash ext-sh line-numbers-mode"><pre class="language-bash"><code>RT1_config<span class="token comment">#int multilink 1  /*进入Multilink 1*/</span>\nRT1_config_m1<span class="token comment">#ip add 10.10.255.21 255.255.255.252   /*配置Multilink1的ip为10.10.255.21/30*/</span>\nRT1_config_m1<span class="token comment">#ppp multilink   /*启用多链路ppp*/</span>\nRT1_config_m1<span class="token comment">#multilink-group 1  /*将Multilink 1加入到Multilink聚合组1 */</span>\nRT1_config_s0/1<span class="token comment">#exi       </span>\nRT1_config<span class="token comment">#int se0/1             /*进入串口0/1*/</span>\nRT1_config_s0/1<span class="token comment">#enc ppp          /*指定封装协议为ppp*/</span>\nRT1_config_s0/1<span class="token comment">#ppp multilink    /*启用多链路ppp*/</span>\nRT1_config_s0/1<span class="token comment">#multilink-group 1   /*将接口进入到聚合1*/</span>\nRT1_config_s0/1<span class="token comment">#exi</span>\nRT1_config<span class="token comment">#int se0/2             /*进入串口0/2*/</span>\nRT1_config_s0/2<span class="token comment">#enc ppp         /*指定封装协议为ppp*/</span>\nRT1_config_s0/2<span class="token comment">#ppp multilink        /*启用多链路ppp*/</span>\nRT1_config_s0/2<span class="token comment">#multilink-group 1   /*将接口进入到聚合1*/</span>\nRT1_config_s0/2<span class="token comment">#physical-layer speed 2048000   /*配置se0/2的物理层的波特率为2048000（与对端0/2接口的波特率要一致）*/</span>\n\nRT2\nRT2_config<span class="token comment">#int multilink 1      /*进入Multilink 1*/</span>\nRT2_config_m1<span class="token comment">#ip add 10.10.255.22 255.255.255.252   /*配置Multilink1的ip为10.10.255.22/30*/</span>\nRT2_config_m1<span class="token comment">#ppp multilink   /*启用多链路ppp*/</span>\nRT2_config_m1<span class="token comment">#multilink-group 1    /*将Multilink 1加入到Multilink聚合组1*/</span>\nRT2_config_m1<span class="token comment">#exit </span>\nRT2_config_m1<span class="token comment">#int se0/1         /*进入串口0/1*/</span>\nRT2_config_s0/1<span class="token comment">#enc ppp         /*指定封装协议为ppp*/</span>\nRT2_config_s0/1<span class="token comment">#ppp multilink   /*启用多链路ppp*/</span>\nRT2_config_s0/1<span class="token comment">#multilink-group 1   /*将接口进入到聚合1*/</span>\nRT2_config_s0/1<span class="token comment">#exi</span>\nRT2_config<span class="token comment">#int se0/2            /*进入串口0/2*/</span>\nRT2_config_s0/2<span class="token comment">#enc ppp         /*指定封装协议为ppp*/</span>\nRT2_config_s0/2<span class="token comment">#ppp multilink        /*启用多链路ppp*/</span>\nRT2_config_s0/2<span class="token comment">#multilink-group 1    /*将接口进入到聚合1*/</span>\nRT2_config_s0/2<span class="token comment">#phy spee 2048000     /*配置se0/2的物理层的波特率为2048000*/</span>\n</code></pre><div class="line-numbers"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br><span class="line-number">27</span><br><span class="line-number">28</span><br><span class="line-number">29</span><br><span class="line-number">30</span><br><span class="line-number">31</span><br><span class="line-number">32</span><br></div></div><h2 id="路由器bai配置" tabindex="-1"><a class="header-anchor" href="#路由器bai配置" aria-hidden="true">#</a> 路由器bai配置:</h2><div class="language-bash ext-sh line-numbers-mode"><pre class="language-bash"><code>router<span class="token punctuation">(</span>config<span class="token punctuation">)</span><span class="token comment">#int s0/0 ；进入Serail接口bai</span>\nrouter<span class="token punctuation">(</span>config-if<span class="token punctuation">)</span><span class="token comment">#no shutdown ；激活当前接bai口</span>\nrouter<span class="token punctuation">(</span>config-if<span class="token punctuation">)</span><span class="token comment">#clock rate 64000 ；设置同步时钟</span>\nrouter<span class="token punctuation">(</span>config-if<span class="token punctuation">)</span><span class="token comment">#ip address ；设置IP地址bai</span>\nrouter<span class="token punctuation">(</span>config-if<span class="token punctuation">)</span><span class="token comment">#ip address second ；设置第二个IP</span>\nrouter<span class="token punctuation">(</span>config-if<span class="token punctuation">)</span><span class="token comment">#int f0/0.1 ；进入子接口</span>\nrouter<span class="token punctuation">(</span>config-subif.1<span class="token punctuation">)</span><span class="token comment">#ip address ；设置子接口IP</span>\nrouter<span class="token punctuation">(</span>config-subif.1<span class="token punctuation">)</span><span class="token comment">#encapsulation dot1q ；绑定vlan中继协议</span>\nrouter<span class="token punctuation">(</span>config<span class="token punctuation">)</span><span class="token comment">#config-register 0x2142 ；跳过配置文件</span>\nrouter<span class="token punctuation">(</span>config<span class="token punctuation">)</span><span class="token comment">#config-register 0x2102 ；正常使用配置文件</span>\nrouter<span class="token comment">#reload :重新引导</span>\nAddress pool range:地址池范\n</code></pre><div class="line-numbers"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br></div></div><h2 id="神州数码路由器清空数据" tabindex="-1"><a class="header-anchor" href="#神州数码路由器清空数据" aria-hidden="true">#</a> 神州数码路由器清空数据:</h2><div class="language-bash ext-sh line-numbers-mode"><pre class="language-bash"><code>Ctrl+Break\nmonitor<span class="token comment">#del</span>\nthis <span class="token function">file</span> will be erased,are you sure?<span class="token punctuation">(</span>y/n<span class="token punctuation">)</span>y\nmonitor<span class="token comment">#reboot</span>\nDo you want to <span class="token function">reboot</span> the router<span class="token punctuation">(</span>y/n<span class="token punctuation">)</span>?y\nPlease wait<span class="token punctuation">..</span>\n</code></pre><div class="line-numbers"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br></div></div>',21),p={render:function(n,s){return e}}}}]);